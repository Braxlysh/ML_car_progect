# Всем заитересованным привет. ML проект в свой полной крассе
ML-проект: Предсказание целевых действий на сайте «СберАвтоподписка»
## О проекте

Задача — построить модель машинного обучения, которая предсказывает вероятность совершения пользователем целевого действия на сайте «СберАвтоподписка»
.

Целевыми действиями считаются события:

«Оставить заявку»

«Заказать звонок»

«Отправка формы обратной связи» и др.

Таким образом, модель помогает бизнесу определять наиболее перспективных пользователей и оптимизировать рекламные кампании.

## Данные

В проекте использовались данные Google Analytics по сайту:

ga_sessions.pkl — информация о визитах (источник трафика, устройство, гео).

ga_hits.pkl — события в рамках визита (страницы, действия пользователя).

## Цели проекта

Провести разведочный анализ данных (EDA).

Проверить гипотезы о различии конверсий (CR) между источниками, устройствами, регионами.

Построить модель машинного обучения для предсказания целевых действий (ROC-AUC ~0.72, Accuracy ~0.77, Precision: ~0.99, Recall ~0.78, F1-score ~0.87)

Упаковать модель в API для локального использования.

## Результаты

Проведён EDA: очистка данных, визуализации, корреляционный анализ.

Генерация новых фич.

Построена модель классификации, предсказывающая совершение целевых действий.

Разработан REST API-сервис на FastAPI.

## Запуск:
### Для запуска ван нужно выполнить несколько команда 
> создайте виртуально окружение python -m venv venv

> активируйте виртуально окружение .\venv\Scripts\activate

> установка всех зависимостей pip install --upgrade -r requirements.txt

> запуск локального сервера uvicorn service:app --reload


## Использование:

*  _localhost_/status -- получите статус работы модели __GET__ Запрос
*  _localhost_/version -- получите информацию о модели __GET__ Запрос
*  _localhost_/predict -- получите предикт модели __POST__ Запрос, также нужно передать в _BODY_ словарь с данными

### Пример словаря:
```json
{
    "client_id": "2108465203.1636395007",
    "visit_date": "2021-11-08",
    "visit_time": "21:10:07",
    "visit_number": 1,
    "utm_source": "ZpYIoDJMcFzVoPFsHGJL",
    "utm_medium": "banner",
    "utm_campaign": "LEoPHuyFvzoNfnzGgfcd",
    "utm_adcontent": "JNHcPlZPxEMWDnRiyoBf",
    "utm_keyword": "puhZPIYqKXeFPaUviSjo",
    "device_category": "mobile",
    "device_os": "iOS",
    "device_brand": "Apple",
    "device_model": "",
    "device_screen_resolution": "414x736",
    "device_browser": "Safari",
    "geo_country": "Russia",
    "geo_city": "Samara"
}
```

> Такой словарь вернёт 1 (Было выполненно целевой действие)

## Пример работы:

### Predict

![Компьютер](img/predict.png)

### Status

![Компьютер](img/status.png)

### Version

![Компьютер](img/version.png)